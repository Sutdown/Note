C++的运行时多态是怎样的？

### **运行时多态的实现机制**

#### **1. 继承和基类指针/引用**

- 运行时多态通常基于继承关系，父类（基类）定义了虚函数，子类（派生类）重写这些虚函数。
- 使用基类的指针或引用调用函数，运行时会根据实际对象类型动态绑定到具体实现。

#### **2. 虚函数（`virtual` 关键字）**

- 在基类中定义函数为 `virtual`，使得该函数具有动态绑定能力。
- 动态绑定通过虚函数表（VTable）实现。

#### **3. 虚函数表（VTable）**

- 编译器为每个包含虚函数的类生成一个虚函数表，记录虚函数的地址。
- 每个对象有一个指向虚函数表的指针（vptr），在运行时根据 `vptr` 决定调用哪个函数。