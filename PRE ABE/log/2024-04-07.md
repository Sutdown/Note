### Week 1（2024.04.07-04.19）

代理重加密 proxy re-encryption

属性加密 attribute based encryption



1. 密码学基础知识
2. 代理重加密、属性加密基础知识

3. 实验向（Java）

purpose：

- 能大致看懂一篇论文的脉络和相关专业术语
- 对实验有大致了解，学习java基础。



[TOC]

（参考B站视频，知乎，论文，博客等）

#### 密码学基础

https://gist.github.com/mylamour/791d075ae7135435110ee24c2ddd55f2

https://morven.life/posts/cryptology-basic/

[密码学发展史](https://developer.aliyun.com/article/1374427)

[密码学基础](https://wangyi.one/%E5%AF%86%E7%A0%81%E5%AD%A6%E5%9F%BA%E7%A1%80/#%E5%88%86%E7%BB%84%E6%A8%A1%E5%BC%8F)

[04-视频-秘密共享]( https://www.bilibili.com/video/BV1KU4y1g7Rt/?share_source=copy_web&vd_source=3fb5d6e30320f23cfaa7814e883f9b2f)



##### 密码算法：

对明文加密变成密文（加密）

对密文脱密变成明文（解密）

密码算法也就是加密和解密时的信息变换规则



##### 基本密码技术的三个部分：

- **对称密码**（Symmetric Cryptography)（单钥加密）：序列密码和分组密码

  DES，3DES，AES，Blowfish，IDEA，RC5，RC6，…

- **非对称密码**(Asymmetric Cryptography)（双钥加密）：

  首先要有一对密钥对 ，一个被称为私钥，一个成为公钥；然后可以把公钥分发给想给你传密文的用户，然后用户使用该公钥加密过得密文，只有使用私钥才能解密，

  RSA，ECC

- **单向散列函数**(One-way ftnction)

  有一个输入和一个输出，输入称为**消息** (`message`)，输出称为散列值(`hashvalue`)。会根据消息的比特序列输出固定长度的散列值，散列值用来检查消息的完整性。

  - 消息认证码(Message Authentication Code, MAC)

    可通过单向散列函数实现，防止通信过程中的错误、篡改以及伪装。

  - 数字签名（私钥对文件的哈希值进行签名，类似于非对称加密的反用）

  - 伪随机数生成器（保证不可预测性）



##### 现代密码学基本原则：

1. 安全定义
2. 安全证明
3. 算法设计
4. 密钥管理
5. 标准化和应用



##### 基本概念 ：

- 流密码（Stream cipher）：将明文和密钥进行逐位异或（XOR）运算，逐位输出密文。
- Kerckhoffs假设（Kerckhoffs’ principle）：密码系统的安全性不依赖于保密算法，而依赖于保密密钥。
- 唯密文攻击（Ciphertext-only attack）：攻击者只拥有密文，试图通过分析密文来破解加密算法或密钥。
- 选择明文攻击（Known-plaintext attack）：攻击者拥有明文和密文对，并试图破解加密算法或密钥。
- 密文授权：允许授权方在不泄露解密密钥的情况下，授权第三方解密密文。



##### 分组特点模式总结：

一般的分组密码只能加密固定长度的明文，若加密任意长度的明文，需要对分组密码进行迭代，分组密码的迭代方法也就是分组模式。

- ECB(Electronic CodeBooK)
- CBC(Cipher Block Chaining)
- CFB(Cipher-FeedBack)
- OFB(Output-FeedBack)
- CTR(Count TeR)



#### 加密算法

##### PRE

- **PRE**（Proxy Re-encryption）是**代理重加密**算法，它允许**将密文从一个加密密钥转换到另一个加密密钥，而无需解密密文**。

  （将数据加密，授权他人访问提供授权密文；共享部分数据的授权密文；或者无需密文部分人可访问，云存储，数据共享等）

  **所以，代理重加密就是委托半可信的代理者将自己通过公钥加密后的密文转化为可用另一方私钥解开的密文，从而实现数据共享**

  效率低，不适用于大文件共享。

  [PRE](https://suryxin.cn/%e5%b1%9e%e6%80%a7%e5%8a%a0%e5%af%86-abe/)



[刘巍然-IBE和ABE-知乎](https://zhuanlan.zhihu.com/p/21664741)

##### IBE

引入：

**公钥密码体制（Public Key Cryptosystem）：**公钥是可以公开给任何人的，任何人只要获得了公钥，就可以使用公钥对消息进行加密，随后可以通过公开信道将加密后的密文发送给接受者。只有拥有公钥所对应私钥的接受者才能够正确地解密密文，恢复出明文信息。

问题在于：加密者得到接收者的公钥时，如何确定接收的公钥就是接收者的

解决方案一：引入可信第三方，要求强大的存储查询能力。

解决方案二：公钥就是与用户身份有关—>身份基密码体制的思想（Identity-Based Cryptosystem），并且构造身份基签名体制（Identity-Based Signature，IBS）

**2001年**，Boneh和Franklin正式给出IBE的定义，安全模型，并应用双线性对(Bilinear Map)构造了一个安全的IBE方案。

IBE体制引入了一个新的实体，叫做PKG（Private Key Generator），这个PKG可以理解为公钥加密体制中的那个可信第三方。PKG现在变成了私钥的产生者。



##### ABE

- ABE是IBE的扩展

- **ABE**（Attribute-Based Encryption）是**属性加密**算法，它允许根据用户的属性对数据进行加密，只有**具有特定属性的用户**才能解密数据。属于非对称加密算法。

  （类似于QQ的仅好友可见之类的，或者电子邮件指定收件人，社交网络个人资料访问权限，电子商务）

  **根据嵌入的对象不同，ABE可划分为KP-ABE(Key-Policy基于密钥策略）、CP-ABE(Ciphertext-Policy基于密文策略)**（密文，私钥对应<u>属性集或者访问结构</u>）

  [ABE](https://suryxin.cn/%e5%b1%9e%e6%80%a7%e5%8a%a0%e5%af%86-abe/)

  CP-ABE采用关键字加密机制，安全性负责关键字授权机构，加密效率高，授权灵活度低，无法实现精细化控制，不支持密文授权。

  KP-ARE采用关键字-属性加密机制，安全性依赖于属性授权机构，加密效率低，授权灵活度高，支持密文授权（可以根据用户属性生成授权密文，允许授权用户解密）。
  
- **访问控制树：**每个叶子节点都是一个属性，非叶子节点为一个门限节点（Threshold Gate/Node），里面的数据形式为(n, t)，表示：此节点一共有n个子节点，只要有t个子节点满足条件，那么此节点也满足条件。解密时，只要属性集合使得访问控制树的根节点满足条件，就可以正确解密。

  Goyal等人指出，如果私钥用访问控制树标识，加密文件用属性集合标识，此种ABE称为私钥策略ABE（Key-Policy ABE，KP-ABE）；反之，如果私钥用属性集合标识，加密文件用访问控制树标识，此种ABE称为密文策略ABE（Ciphertext-Policy ABE，CP-ABE）。

- **SHamir秘密共享：**如果预先定义了一个t-1阶的多项式，那么如果知道这个多项式上的t个点，则一定能完整恢复出这个多项式。

  在访问控制树中，我们就采取类似的方法，加密的密钥s放置在根节点上，对于每一个门限节点（非叶子节点），我们都构造一个多项式。利用Shamir秘密分享方案，将密钥s一层一层地分享下去，最后给到叶子节点。解密时，满足解密条件的用户手上拥有恢复s的足够信息，就可以把密钥s恢复出来了。





#### 区块链基础

用密码保证公开账本不被篡改

用非对称密码确保账户所有权

用算力竞赛吸引人记账并确保不会记错

##### 区块链结构

- **单链结构**：最简单的区块链结构，只有一个链条。
- **多链结构**：包含多个链条的区块链结构，每个链条可以独立运行。
- **分叉结构**：由于共识机制不同，导致区块链出现分叉，形成多个链条。



##### 共识机制

共识机制是用于解决分布式账本中数据一致性问题的机制。常用的共识机制包括：

- **工作量证明 (PoW)**：矿工通过计算哈希值来竞争记账权，最先找到符合要求的哈希值的矿工获得记账权。
- **权益证明 (PoS)**：根据持币比例来分配记账权，拥有更多权益的参与者获得更大的记账权。



##### 智能合约

智能合约是运行在区块链上的程序，可以自动执行合约条款。智能合约具有以下特性：

- **自主性**：智能合约自动执行，无需人工干预。
- **可信性**：智能合约代码公开透明，无法篡改。
- **安全性**：智能合约运行在区块链上，安全性高。



注：

来源:gemini:

1.区块链的两大体系是指公链和联盟链。

**公链**是指任何人都可以自由参与的区块链网络。公链上的所有节点都可以平等地访问、验证和写入区块数据。公链具有去中心化、公开透明、安全可靠等特点，但也存在性能低下、扩展性差等问题。

**联盟链**是指由多个机构共同参与维护的区块链网络。联盟链中的节点由许可方控制，只有获得授权的机构才能参与网络的运行。联盟链具有性能优良、扩展性好等特点，但也存在中心化程度高、透明度低等问题。

公链和联盟链是区块链技术发展过程中的两种重要模式，各有优劣。公链更适合于需要去中心化、公开透明的应用场景，如金融、供应链等。联盟链更适合于需要高性能、强安全性的应用场景，如政务、医疗等。

具体来说，公链和联盟链在以下几个方面存在差异：

- **参与主体**：公链的参与主体是任何人都可以自由参与，而联盟链的参与主体是由许可方控制的机构。
- **去中心化程度**：公链的去中心化程度更高，而联盟链的去中心化程度较低。
- **透明度**：公链的透明度更高，而联盟链的透明度较低。
- **性能**：公链的性能相对较低，而联盟链的性能相对较高。
- **安全性**：公链的安全性相对较高，而联盟链的安全性相对较低。

**以下是一些具体的应用场景：**

- **金融**：公链可以用于构建去中心化的金融系统，如比特币、以太坊等。联盟链可以用于构建跨境支付系统、供应链金融等。
- **政务**：公链可以用于构建电子政务系统，如身份认证、政务公开等。联盟链可以用于构建区块链溯源、区块链存证等。
- **医疗**：公链可以用于构建医疗数据共享平台、基因数据管理等。联盟链可以用于构建电子病历、医疗影像等。
- **供应链**：公链可以用于构建供应链溯源平台、供应链金融等。联盟链可以用于构建供应链协同、供应链管理等。

**未来发展趋势**

未来，公链和联盟链将继续发展，并在各自领域发挥重要作用。公链将朝着更高性能、更强安全性、更易用性等方向发展，并将更多地应用于金融、供应链等领域。联盟链将朝着更加开放、更加透明的方向发展，并将更多地应用于政务、医疗等领域。

此外，公链和联盟链也将相互融合，形成更加完善的区块链生态系统。



### 论文部分（Zetero）

区块链系统安全防护技术研究进展

基于区块链的数字版权管理

基于属性的访问控制关键技术
